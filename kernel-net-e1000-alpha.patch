diff -ur e1000-4.3.15.orig/src/e1000.h e1000-4.3.15/src/e1000.h
--- e1000-4.3.15.orig/src/e1000.h	Sat Aug 10 00:50:23 2002
+++ e1000-4.3.15/src/e1000.h	Wed Jun 23 09:05:31 2004
@@ -37,6 +37,7 @@
 
 #include <linux/stddef.h>
 #include <linux/config.h>
+#include <asm/current.h>
 #include <linux/module.h>
 #include <linux/types.h>
 #include <asm/byteorder.h>
diff -ur e1000-4.3.15.orig/src/e1000_osdep.h e1000-4.3.15/src/e1000_osdep.h
--- e1000-4.3.15.orig/src/e1000_osdep.h	Sat Aug 10 00:50:23 2002
+++ e1000-4.3.15/src/e1000_osdep.h	Wed Jun 23 09:05:31 2004
@@ -34,10 +34,12 @@
 #ifndef _E1000_OSDEP_H_
 #define _E1000_OSDEP_H_
 
+#include <asm/current.h>
 #include <linux/types.h>
 #include <linux/pci.h>
 #include <linux/delay.h>
 #include <asm/io.h>
+#include <asm/spinlock.h>
 #include <linux/interrupt.h>
 #include "kcompat.h"
 
diff -ur e1000-4.3.15.orig/src/kcompat.h e1000-4.3.15/src/kcompat.h
--- e1000-4.3.15.orig/src/kcompat.h	Sat Aug 10 00:50:23 2002
+++ e1000-4.3.15/src/kcompat.h	Wed Jun 23 09:05:31 2004
@@ -30,6 +30,7 @@
 #define _KCOMPAT_H_
 
 #include <linux/version.h>
+#include <asm/current.h>
 #include <linux/types.h>
 #include <linux/errno.h>
 #define __NO_VERSION__
